<html lang="en">

<head>
<title>CT-simulation - User Guide - configure recon pipeline</title>
</head>

<style type="text/css">
<style>
.box-info{width:200px;height:100px;}
.box-info{margin-left:40px;}
</style>
</style>


<body>
<h1 id="begin">CTsimulation User Guide</h1>
<br/>

<font size=5>
<div align="center">
<a style="float:left;"  href="./configurethesimulation.html">&lt;prev</a>
<a align="center" href="../UserGuide.html">menu</a>
<a style="float:right;">next&gt;</a>
</div>
</font>

<h2 id="cfgsimu">3. Configure the recon pipeline</h2>
The input of CTrecon.m is a configure file which set the parameters to define a recon (pipeline) task 
which can not only run an image reconstruction job but also do calibrations, kinds of data/image processes
and even to call a simulaton task. User can run the <code>CTrecon(configurefile);</code> 
to do a pipeline task defined by the <code>configurefile</code>.

<h3 id="systemcfg">3.1 Reconstruction configure</h3>
As we played in <a href="./quickstart.html#quickrecon">Quick Start</a>, 
a recon .xml configure file <code>'<a href="..\..\..\Data\recon_series1_120KV200mA.xml">..\Data\recon_series1_120KV200mA.xml</a>'</code> 
was auto generated by the CTsimulation.m for user to run the CTrecon.m.
As a sample, let's open this file which reads, (folded)<br/>
<div class="box-info"><pre>
<font color="green">&lt;?xml version="1.0" encoding="utf-8"?&gt;</font>
<font color="blue">&lt;configure&gt;
   &lt;recon&gt;
      &lt;rawdata&gt;..\Data\rawdata_series1_120KV200mA_v1.0.raw&lt;/rawdata&gt;
      &lt;IOstandard&gt;./IO\standard\&lt;/IOstandard&gt;
      &lt;<a href="#reconsystem">system</a>&gt;
      &lt;<a href="#reconprotocol">protocol</a>&gt;
      &lt;<a href="#reconpipe">pipe</a>&gt;
&lt;/configure&gt;</font>
</pre></div>
where the <code>&lt;recon&gt;</code> can be a cell to run a multi series job;</br>
where the <code>&lt;rawdata&gt;</code> is the rawdata file, multi rawdata files are not acceptable, 
but multi shots of data can be put in one rawdata;</br>
a tag <code>&lt;offsetdata&gt;</code> (skipped in this sample) can be employed to employ an dark current correction by a real time offset data; </br>
where the <code>&lt;IOstandard&gt;</code> is the path of the the path of I/O defination folder, 
as we defined in <a href="./configurethesimulation.html#systempath">system configure</a>;</br>

</br>
where the <code id="reconsystem">&lt;system&gt;</code> contains the necessary informations of the CT system, which reads,
<div class="box-info"><pre>
<font color="blue">      &lt;system&gt;
         &lt;detector_corr&gt;./system\mod\detectorframe\detector_sample_unit24.corr&lt;/detector_corr&gt;
         &lt;focalposition&gt;0 -550 0&lt;/focalposition&gt;
         &lt;angulationcode&gt;69120&lt;/angulationcode&gt;
         &lt;angulationzero&gt;0&lt;/angulationzero&gt;
         &lt;DBBzero&gt;16384&lt;/DBBzero&gt;
         &lt;collimatorexplain&gt;./system\mod\detectorframe\collimatorexplain_unit24.xml&lt;/collimatorexplain&gt;
      &lt;/system&gt;</font>
</pre></div>
where the <code>&lt;detector_corr&gt;</code> is the <a href="#dectorcorr">detector calibration table</a>;</br>
where the <code>&lt;focalposition&gt;</code> is the focal(s) position;</br>
where the <code>&lt;angulationcode&gt;</code> is the maxium angulation code of the rotor per rotation;</br>
where the <code>&lt;angulationzero&gt;</code> is angulation code of the 'zero point' of the rotor,
the 'zero point' is where the focal (in X-ray tube) on the focalposition we defined, normaly it is on top;</br>
where the <code>&lt;DBBzero&gt;</code> is the zero offset of the rawdata when it was saved in unsigned integer numbers;</br>
where the <code>&lt;collimatorexplain&gt;</code> is the configure file to explain the collimator in protocols, 
kick here for more information <a href="collimatorexplaincfg">how the machine reads protocols</a>;<br/>

</br>
where the the <code id="reconprotocol">&lt;protocol&gt;</code> is the defination of the protocol, which reads,


</br></br>
<font color="red">To be continue...</font>

<br/><br/><br/>
<font size=5>
<div align="center">
<a style="float:left;"  href="./configurethesimulation.html">&lt;prev</a>
<a align="center" href="#begin">top</a>
<a style="float:right;" >next&gt;</a>
</div>
</font>
</body>

</html>